<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GreenGuard.Views.InventoryPage"
             BackgroundColor="#1E1E1E"
             Title="Tree Inventory">

	<ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <Label Text="🌳 Tree Inventory"
                   FontSize="26"
                   TextColor="LightGreen"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"/>
            <SearchBar x:Name="TreeSearchBar"
                       Placeholder="Search tree..."
                       TextChanged="OnSearchTextChanged"
                       TextColor="White"
                       PlaceholderColor="Gray"
                       BackgroundColor="#2A2A2A"/>
            <Picker x:Name="CategoryPicker"
                    Title="Filter by Category"
                    SelectedIndexChanged="OnCategoryChanged"
                    TextColor="White"
                    BackgroundColor="#2A2A2A">
                <Picker.Items>
                    <x:String>All</x:String>
                    <x:String>Fruit</x:String>
                    <x:String>Flower</x:String>
                    <x:String>Medicinal</x:String>
                </Picker.Items>
            </Picker>
            <CollectionView x:Name="InventoryCollection">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BackgroundColor="#2A2A2A"
                               CornerRadius="10"
                               Padding="10"
                               Margin="5">
                            <VerticalStackLayout>
                                <Label Text="{Binding Name}"
                                       FontSize="18"
                                       TextColor="White"
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding Category}"
                                       FontSize="14"
                                       TextColor="LightGreen"/>
                                <Label Text="{Binding StockDisplay}"
                                       FontSize="14"
                                       TextColor="LightBlue"/>
                                <Label Text="{Binding SoldDisplay}"
                                       FontSize="14"
                                       TextColor="Orange"/>
                                <Button Text="Update"
                                        BackgroundColor="Green"
                                        TextColor="White"
                                        CornerRadius="20"
                                        HeightRequest="40"
                                        CommandParameter="{Binding .}"
                                        Clicked="OnUpdateClicked"/>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            <Button Text="Back"
                    BackgroundColor="Gray"
                    TextColor="White"
                    CornerRadius="25"
                    HeightRequest="50"
                    Clicked="OnBackClicked"/>
		</VerticalStackLayout>
	</ScrollView>
</ContentPage>
